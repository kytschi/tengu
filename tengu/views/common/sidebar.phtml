<?php
/**
 * Sidebar template.
 *
 * @copyright   2023 Mike Welsh <mike@kytschi.com>
 * @version     0.0.1
 *
 * Copyright 2023 Mike Welsh
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Library General Public
 * License as published by the Free Software Foundation; either
 * version 2 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Library General Public License for more details.
 *
 * You should have received a copy of the GNU Library General Public
 * License along with this library; if not, write to the
 * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
 * Boston, MA  02110-1301, USA.
 */

use Kytschi\Tengu\Controllers\Core\CommunicationsController;
use Kytschi\Tengu\Helpers\UrlHelper;

$show = ' show';

foreach (($this->di->getConfig())->urls as $check) {
	if (UrlHelper::contains($check)) {
		$show = '';
		break;
	}
}

$cms_show = '';
if (UrlHelper::contains(($this->di->getConfig())->urls->cms . '/')) {
    $cms_show = ' show';
}

?>
<div class="sidebar">
    <div class="sidebar-wrapper">
		<div class="accordion" id="accordion-menu">
			<div class="accordion-item">
				<div
					class="accordion-header"
					id="headingTengu">
					<button
						class="accordion-button"
						type="button"
						data-toggle="collapse"
						data-target="#collapseTengu"
						aria-expanded="false"
						aria-controls="collapseTwo">
						<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 72 72">
							<g id="color">
								<polygon fill="#EA5A47" stroke="#EA5A47" stroke-miterlimit="10" points="15.3127,11 56.3127,11 56.3127,45 55.3127,50 52.3127,54 49.3127,58 46.3127,60 42.3127,62 36.3127,62 29.3127,61 24.3127,59 21.3127,56 18.3127,52 16.3127,49 15.3127,43"/>
								<path fill="#FFFFFF" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" d="M23.2977,23.8647l0.4543-0.5574 c1.2341-1.514,3.4619-1.7409,4.9759-0.5068l4.5938,3.7446c1.514,1.2341,1.7409,3.4619,0.5068,4.9759l-0.4543,0.5574 c-1.2341,1.514-3.4619,1.7409-4.9759,0.5068l-4.5938-3.7446C22.2904,27.6065,22.0635,25.3787,23.2977,23.8647z"/>
								<path fill="#FFFFFF" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" d="M39.7519,32.0784l-0.4543-0.5574 c-1.2341-1.514-1.0072-3.7418,0.5068-4.9759l4.5938-3.7446c1.514-1.2341,3.7418-1.0072,4.9759,0.5068l0.4543,0.5574 c1.2341,1.514,1.0072,3.7418-0.5068,4.9759l-4.5938,3.7446C43.2139,33.8193,40.9861,33.5924,39.7519,32.0784z"/>
								<g>
								<polygon fill="#D22F27" points="36.3127,41 46.3127,35 55.3127,35 57.8717,35 60.3127,35 63.3127,35 64.3127,36 65.3127,37 65.3127,38 65.3127,40 63.3127,41 59.3127,41 54.3127,41 51.3127,41 48.3127,41"/>
								<path fill="#D22F27" d="M38.8666,35h8.8922c1.4105,0,2.5539,1.1434,2.5539,2.5539v0.8922c0,1.4105-1.1434,2.5539-2.5539,2.5539 h-8.8922c-1.4105,0-2.5539-1.1434-2.5539-2.5539v-0.8922C36.3127,36.1434,37.4561,35,38.8666,35z"/>
								</g>
							</g>
							<g id="line">
								<polyline fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" points="15.4997,42 15.4997,11 56.4997,11 56.4997,32.201"/>
								<path fill="none" stroke="#000000" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M56.4178,43.8508 C55.3951,55.1267,45.4251,63.4387,34.1491,62.416C23.5881,61.4581,15.5006,52.6043,15.5002,42"/>
								<path fill="none" stroke="#000000" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M43.8127,50.5414 c-5.0061-2.0554-10.6204-2.0554-15.6265,0"/>
								<path d="M33.63,28.9252c0,1.6569-1.3431,3-3,3c-1.6569,0-3-1.3431-3-3s1.3431-3,3-3l0,0 C32.2865,25.9259,33.6293,27.2686,33.63,28.9252"/>
								<path d="M45.63,28.9252c0,1.6569-1.3431,3-3,3s-3-1.3431-3-3s1.3431-3,3-3l0,0C44.2866,25.9258,45.6294,27.2686,45.63,28.9252"/>
								<line x1="25.3127" x2="32.3127" y1="17" y2="23" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
								<line x1="47.3127" x2="40.3127" y1="17" y2="23" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
								<line x1="55.3715" x2="39.2539" y1="35" y2="35" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
								<line x1="60.3127" x2="55.4303" y1="35" y2="35" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
								<path fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M56.5002,41h4.8125 c0,0,4,0,4-3c0.0345-1.6224-1.2527-2.9655-2.8751-3c-0.0416-0.0009-0.0833-0.0009-0.1249,0h-2"/>
								<line x1="36.3127" x2="56.5002" y1="41" y2="41" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
								<path fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M36.3127,45c0,0,4-3,8,0 c0.7638,0.6155,1.6585,1.0478,2.6154,1.2638"/>
								<path fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M35.9281,45c0,0-4-3-8,0 c-0.7638,0.6155-1.6585,1.0478-2.6154,1.2638"/>
							</g>
						</svg>
						<p>Tengu</p>
					</button>
				</div>
				<div
					id="collapseTengu"
					class="accordion-collapse collapse<?= $show; ?>"
					aria-labelledby="headingTengu"
					data-parent="#accordion-menu">
					<div class="accordion-body">
						<ul class="nav">
							<li class="<?= UrlHelper::matches('/dashboard') ? 'active' : 'inactive'; ?>">
								<a href="<?= UrlHelper::backend('/dashboard'); ?>">
									<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
										<path d="M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4zM3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 10a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 10zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 9.31a.91.91 0 1 0 1.302 1.258l3.434-4.297a.389.389 0 0 0-.029-.518z"/>
										<path fill-rule="evenodd" d="M0 10a8 8 0 1 1 15.547 2.661c-.442 1.253-1.845 1.602-2.932 1.25C11.309 13.488 9.475 13 8 13c-1.474 0-3.31.488-4.615.911-1.087.352-2.49.003-2.932-1.25A7.988 7.988 0 0 1 0 10zm8-7a7 7 0 0 0-6.603 9.329c.203.575.923.876 1.68.63C4.397 12.533 6.358 12 8 12s3.604.532 4.923.96c.757.245 1.477-.056 1.68-.631A7 7 0 0 0 8 3z"/>
									</svg>
									<p>Dashboard</p>
								</a>
							</li>
							<?php
							if ($this->tengu->isAdmin()) {
								?>
								<li class="<?= UrlHelper::matches('/messages/inbox') ? 'active' : 'inactive'; ?>">
									<a href="<?= UrlHelper::backend('/messages/inbox'); ?>">
										<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
											<path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
											<path d="M7.066 6.76A1.665 1.665 0 0 0 4 7.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 0 0 .6.58c1.486-1.54 1.293-3.214.682-4.112zm4 0A1.665 1.665 0 0 0 8 7.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 0 0 .6.58c1.486-1.54 1.293-3.214.682-4.112z"/>
										</svg>
										<p>
											Messages
											<?php
											if ($count = CommunicationsController::count()) {
												?>
												<span class="badge bg-white text-primary">
													<?= $count; ?>
												</span>
												<?php
											}
											?>
										</p>
									</a>
								</li>
								<li class="<?= UrlHelper::matches('/users') ? 'active' : 'inactive'; ?>">
									<a href="<?= UrlHelper::backend('/users'); ?>">
										<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
											<path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
										</svg>
										<p>Users</p>
									</a>
								</li>
								<li class="<?= UrlHelper::matches('/groups') ? 'active' : 'inactive'; ?>">
									<a href="<?= UrlHelper::backend('/groups'); ?>">
										<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
											<path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
										</svg>
										<p>Groups</p>
									</a>
								</li>
								<?php
							}
							?>
							<li class="<?= UrlHelper::matches('/clients') ? 'active' : 'inactive'; ?>">
								<a href="<?= UrlHelper::backend('/clients'); ?>">
									<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
										<path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z"/>
									</svg>
									<p>Clients</p>
								</a>
							</li>
							<?php

							if ($this->tengu->isSU()) {
								?>
								<li class="<?= UrlHelper::matches('/queue') ? 'active' : 'inactive'; ?>">
									<a href="<?= UrlHelper::backend('/queue'); ?>">
										<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
											<path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
  											<path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>
										</svg>
										<p>Queue</p>
									</a>
								</li>
								<li class="<?= UrlHelper::matches('/logs') ? 'active' : 'inactive'; ?>">
									<a href="<?= UrlHelper::backend('/logs'); ?>">
										<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
											<path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
  											<path d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
										</svg>
										<p>Logs</p>
									</a>
								</li>
								<li class="<?= UrlHelper::matches('/settings') ? 'active' : 'inactive'; ?>">
									<a href="<?= UrlHelper::backend('/settings'); ?>">
										<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
											<path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
											<path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
										</svg>
										<p>Settings</p>
									</a>
								</li>
								<?php
							}
							?>
						</ul>
					</div>
				</div>
			</div>
			<div class="accordion-item">
				<div
					class="accordion-header"
					id="headingWebiste">
					<button 
						class="accordion-button collapsed" 
						type="button" 
						data-toggle="collapse" 
						data-target="#collapseWebsite" 
						aria-expanded="true" 
						aria-controls="collapseWebsite">
						<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
  							<path d="M0 4s0-2 2-2h12s2 0 2 2v6s0 2-2 2h-4c0 .667.083 1.167.25 1.5H11a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1h.75c.167-.333.25-.833.25-1.5H2s-2 0-2-2V4zm1.398-.855a.758.758 0 0 0-.254.302A1.46 1.46 0 0 0 1 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 0 0 .538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 0 0 .254-.302 1.464 1.464 0 0 0 .143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 0 0-.302-.254A1.46 1.46 0 0 0 13.99 3H2c-.325 0-.502.078-.602.145z"/>
						</svg>
						<p>Website</p>
					</button>
				</div>
				<div
					id="collapseWebsite"
					class="accordion-collapse collapse<?= $cms_show; ?>"
					aria-labelledby="headingWebiste"
					data-parent="#accordion-menu">
					<div class="accordion-body">
						<ul class="nav">
							<li class="<?= UrlHelper::matches(($this->di->getConfig())->urls->cms . '/pages') ? 'active' : 'inactive'; ?>">
								<a href="<?= UrlHelper::backend(($this->di->getConfig())->urls->cms . '/pages'); ?>">
									<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
										<path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>
									</svg>
									<p>Pages</p>
								</a>
							</li>
							<li class="<?= UrlHelper::matches(($this->di->getConfig())->urls->cms . '/blog-posts') ? 'active' : 'inactive'; ?>">
								<a href="<?= UrlHelper::backend(($this->di->getConfig())->urls->cms . '/blog-posts'); ?>">
									<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
										<path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>
										<path d="M4.5 12.5A.5.5 0 0 1 5 12h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 10h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm1.639-3.708 1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V8.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8s1.54-1.274 1.639-1.208zM6.25 6a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z"/>
									</svg>
									<p>Blog</p>
								</a>
							</li>
							<li class="<?= UrlHelper::matches(($this->di->getConfig())->urls->cms . '/portfolio') ? 'active' : 'inactive'; ?>">
								<a href="<?= UrlHelper::backend(($this->di->getConfig())->urls->cms . '/portfolio'); ?>">
									<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
										<path d="M7 5.5a1 1 0 0 0-1 1V13a.5.5 0 0 0 1 0v-2h1.188a2.75 2.75 0 0 0 0-5.5H7zM8.188 10H7V6.5h1.188a1.75 1.75 0 1 1 0 3.5z"/>
										<path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>
									</svg>
									<p>Portfolio</p>
								</a>
							</li>
							<li class="<?= UrlHelper::matches(($this->di->getConfig())->urls->cms . '/reviews') ? 'active' : 'inactive'; ?>">
								<a href="<?= UrlHelper::backend(($this->di->getConfig())->urls->cms . '/reviews'); ?>">
									<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
										<path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
									</svg>
									<p>Reviews</p>
								</a>
							</li>
							<li class="<?= UrlHelper::matches(($this->di->getConfig())->urls->cms . '/search-stats') ? 'active' : 'inactive'; ?>">
								<a href="<?= UrlHelper::backend(($this->di->getConfig())->urls->cms . '/search-stats'); ?>">
									<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
										<path fill-rule="evenodd" d="M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61 4.15-5.073a.5.5 0 0 1 .704-.07Z"/>
									</svg>
									<p>Search stats</p>
								</a>
							</li>
							<?php
							if ($this->tengu->isAdmin()) {
								?>
								<li class="<?= UrlHelper::matches(($this->di->getConfig())->urls->cms . '/menu') ? 'active' : 'inactive'; ?>">
									<a href="<?= UrlHelper::backend(($this->di->getConfig())->urls->cms . '/menu'); ?>">
										<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
											<path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
										</svg>
										<p>Menu</p>
									</a>
								</li>
								<li class="<?= UrlHelper::matches(($this->di->getConfig())->urls->cms . '/themes') ? 'active' : 'inactive'; ?>">
									<a href="<?= UrlHelper::backend(($this->di->getConfig())->urls->cms . '/themes'); ?>">
										<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
											<path d="M6.502 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
											<path d="M14 14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5V14zM4 1a1 1 0 0 0-1 1v10l2.224-2.224a.5.5 0 0 1 .61-.075L8 11l2.157-3.02a.5.5 0 0 1 .76-.063L13 10V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4z"/>
										</svg>
										<p>Themes</p>
									</a>
								</li>
								<li class="<?= UrlHelper::matches(($this->di->getConfig())->urls->cms . '/templates') ? 'active' : 'inactive'; ?>">
									<a href="<?= UrlHelper::backend(($this->di->getConfig())->urls->cms . '/templates'); ?>">
										<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
											<path d="M1.5 2.5A1.5 1.5 0 0 1 3 1h10a1.5 1.5 0 0 1 1.5 1.5v3.563a2 2 0 0 1 0 3.874V13.5A1.5 1.5 0 0 1 13 15H3a1.5 1.5 0 0 1-1.5-1.5V9.937a2 2 0 0 1 0-3.874V2.5zm1 3.563a2 2 0 0 1 0 3.874V13.5a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V9.937a2 2 0 0 1 0-3.874V2.5A.5.5 0 0 0 13 2H3a.5.5 0 0 0-.5.5v3.563zM2 7a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm12 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
											<path d="M11.434 4H4.566L4.5 5.994h.386c.21-1.252.612-1.446 2.173-1.495l.343-.011v6.343c0 .537-.116.665-1.049.748V12h3.294v-.421c-.938-.083-1.054-.21-1.054-.748V4.488l.348.01c1.56.05 1.963.244 2.173 1.496h.386L11.434 4z"/>
										</svg>
										<p>Templates</p>
									</a>
								</li>
								<li class="<?= UrlHelper::matches(($this->di->getConfig())->urls->cms . '/settings') ? 'active' : 'inactive'; ?>">
									<a href="<?= UrlHelper::backend(($this->di->getConfig())->urls->cms . '/settings'); ?>">
										<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
											<path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
											<path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
										</svg>
										<p>Settings</p>
									</a>
								</li>
								<?php
							}
							?>
						</ul>
					</div>
				</div>
			</div>
			<?php
			foreach (($this->di->getConfig())->apps as $app => $status) {
				if (
					$status &&
					file_exists(
						$template = ($this->di->getConfig())->application->pluginsDir .
							$app .
							'/views/' .
							$app .
							'/menu.phtml'
					)
				) {
					include $template;
				}
			}
			?>
		</div>
    </div>
</div>
